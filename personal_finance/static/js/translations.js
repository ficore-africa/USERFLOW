(function () {
    // English translations organized by module
    const englishTranslations = {
        general: {
            Error: "Error",
            general_something_went_wrong: "Something went wrong",
            general_view_all: "View All",
            general_select_list: "Please select a list",
            general_select_meal_plan: "Please select a meal plan",
            general_please_provide: "Please provide all required fields",
            general_please_provide_email: "Please provide an email",
            general_error: "An error occurred",
            not_found: "Resource not found",
            insufficient_credits: "Insufficient credits",
            try_again_later: "Please try again later",
            no_recent_activity: "No recent activity",
            start_activity: "Start by adding a budget or bill",
            no_notifications: "No notifications",
            check_later: "Check back later",
            view_all: "View All",
            view_less: "View Less",
            page_title: "Personal Finance Home",
            javascript_required: "JavaScript is required to use this dashboard. Please enable it in your browser.",
            error_loading_activities: "Error loading activities",
            recent_activity_bill_added: "Added bill: {name}",
            recent_activity_budget_created: "Created budget with income: {amount}",
            recent_activity_grocery_list_created: "Created grocery list: {name}",
            recent_activity_grocery_item_bought: "Bought item: {name}",
            recent_activity_learning_hub_progress: "Progress in course: {course_id}",
            recent_activity_ficore_credit: "{action}: {amount} credits",
            recent_activity_food_order_created: "Created food order: {name}"
        },
        grocery: {
            grocery_modal_label: "Smart Grocery Planner",
            grocery_spending: "Grocery Spending",
            just_now: "Just now",
            minutes_ago: "m ago",
            hours_ago: "h ago",
            days_ago: "d ago",
            no_lists: "No grocery lists found",
            no_items: "No items in this list",
            no_meal_plans: "No meal plans found",
            no_suggestions: "No suggestions available",
            no_price_history: "No price history available",
            grocery_edit_list: "Edit List",
            grocery_lists: "Grocery Lists",
            grocery_meal_plans: "Meal Plans",
            grocery_suggestions: "Suggestions",
            grocery_create_list: "Create Grocery List",
            grocery_list_name: "List Name",
            grocery_budget: "Budget",
            grocery_create: "Create",
            grocery_add_item: "Add Item",
            grocery_item_name: "Item Name",
            grocery_quantity: "Quantity",
            grocery_price: "Price",
            grocery_to_buy: "To Buy",
            grocery_in_pantry: "In Pantry",
            grocery_bought: "Bought",
            grocery_store: "Store",
            grocery_add: "Add",
            grocery_share_list: "Share List",
            grocery_collaborator_email: "Collaborator Email",
            grocery_share: "Share",
            grocery_create_meal_plan: "Create Meal Plan",
            grocery_meal_name: "Meal Plan Name",
            grocery_add_ingredient: "Add Ingredient",
            grocery_ingredient_name: "Ingredient Name",
            grocery_suggested_items: "Suggested Items",
            grocery_collaborator_suggestions: "Collaborator Suggestions",
            grocery_suggest_item: "Suggest Item",
            grocery_suggest: "Suggest",
            grocery_list_created: "Grocery list created",
            grocery_item_added: "Item added to list",
            grocery_item_updated: "Item updated",
            grocery_list_shared: "List shared successfully",
            grocery_suggestion_added: "Suggestion added",
            grocery_suggestion_approved: "Suggestion approved",
            grocery_suggestion_approve: "Approve",
            grocery_meal_plan_created: "Meal plan created",
            grocery_price_history: "Price History",
            grocery_price_history_for: "Price History for",
            friday_reminder: "It's Friday! Time to prep your weekend grocery list.",
            grocery_manage_list: "Manage Lists",
            grocery_delete: "Delete",
            grocery_close: "Close",
            grocery_cancel: "Cancel",
            grocery_save: "Save",
            grocery_confirm_delete: "Confirm Delete",
            grocery_confirm_delete_message: "Are you sure you want to delete",
            grocery_view_details: "View Details",
            grocery_export_pdf: "Export to PDF",
            grocery_list_deletion_initiated: "Grocery list deletion initiated",
            grocery_list_deleted: "Grocery list deleted",
            grocery_deleting_in: "Deleting in",
            grocery_seconds: "seconds",
            grocery_export_pdf_success: "Grocery list exported to PDF",
            grocery_export_error: "Error exporting to PDF",
            grocery_list_error: "Error loading list details",
            grocery_list_updated: "Grocery list updated",
            grocery_list_details: "List Details",
            grocery_status: "Status",
            grocery_created_at: "Created At",
            grocery_collaborators: "Collaborators",
            grocery_total_spent: "Total Spent",
            javascript_required_grocery: "JavaScript is required to use the Grocery Planner. Please enable it in your browser."
        },
        food_order: {
            food_order_modal_label: "Food Order",
            food_order_spending: "Food Order Spending",
            just_now: "Just now",
            minutes_ago: "m ago",
            hours_ago: "h ago",
            days_ago: "d ago",
            no_orders: "No food orders found",
            no_items: "No items in this order",
            food_order_create: "Create Food Order",
            food_order_name: "Order Name",
            food_order_vendor: "Vendor",
            food_order_phone: "Phone Number",
            food_order_location: "Delivery Location",
            food_order_auto_detect: "Auto-detect Location",
            food_order_cost_note: `Note: Creating and submitting this order will deduct ${0.1} FC from your balance.`,
            food_order_add_item: "Add Item",
            food_order_item_name: "Item Name",
            food_order_quantity: "Quantity",
            food_order_price: "Price",
            food_order_item_notes: "Item Notes (e.g., No pepper)",
            food_order_add: "Add",
            food_order_total: "Total",
            food_order_reorder: "Reorder",
            food_order_delete: "Delete",
            food_order_confirm_delete: "Delete food order",
            food_order_success_title: "Order Submitted",
            food_order_success_message: "Your order has been sent. Vendor will call you shortly.",
            food_order_ok: "OK",
            food_order_location_error: "Unable to auto-detect location. Please enter manually.",
            food_order_geolocation_unsupported: "Geolocation is not supported by this browser.",
            order_created: "Food order created",
            item_added: "Item added to order",
            item_updated: "Item updated",
            food_order_deleted: "Food order deleted",
            food_order_duplicate: `Please wait ${5} minutes before creating another order`,
            general_select_order: "Please select an order",
            food_order_invalid_data: "Invalid order data",
            food_order_invalid_item_data: "Invalid item data",
            food_order_invalid_update_data: "Invalid update data",
            food_order_invalid_field: "Invalid field",
            food_order_invalid_order_id: "Invalid order ID",
            food_order_credit_deduction_failed: "Failed to deduct Ficore Credits",
            food_order_missing_location: "Location required",
            food_order_invalid_location: "Invalid location format",
            food_order_no_vendors: "No vendors found nearby",
            javascript_required_food_order: "JavaScript is required to use the Food Order feature. Please enable it in your browser."
        },
        budget: {
            budget_status: "Budget Status",
            on_track: "On Track",
            over_budget: "Over Budget",
            overdue: "Overdue",
            on_time: "On Time",
            within_budget: "Within Budget"
        },
        dashboard: {
            popular_tools: "Popular Tools",
            financial_snapshots: "Financial Snapshots",
            upcoming_bills: "Upcoming Bills",
            toggle_amount_visibility: "Toggle amount visibility",
            balance_overview: "Balance Overview",
            ficore_credits: "Ficore Credits",
            recent_activity: "Recent Activity",
            notifications: "Notifications",
            explore_features: "Explore Features",
            no_active_orders: "No Active Orders",
            active_orders: "Active Orders",
            bootstrap_failed: "Bootstrap JavaScript is not loaded",
            food_order_init_failed: "Failed to initialize Food Order feature",
            app_init_error: "Error initializing application",
            food_order_script_failed: "Failed to load Food Order script"
        }
    };

    // Hausa translations organized by module
    const hausaTranslations = {
        general: {
            Error: "Kuskure",
            An_Sabunta_Harshe: "An Sabunta Harshe",
            general_something_went_wrong: "Wani abu ya faru ba daidai ba",
            general_view_all: "Duba Duk",
            general_select_list: "Da fatan za a zaɓi jerin",
            general_select_meal_plan: "Da fatan za a zaɓi shirin abinci",
            general_please_provide: "Da fatan za a ba da duk filayen da ake buƙata",
            general_please_provide_email: "Da fatan za a ba da imel",
            general_error: "Kuskure ya faru",
            not_found: "Ba a sami albarkatu ba",
            insufficient_credits: "Rashin isassun ƙididdiga",
            try_again_later: "Sake gwadawa daga baya",
            no_recent_activity: "Babu ayyukan kwanan nan",
            start_activity: "Fara da ƙara kasafin kuɗi ko kuɗi",
            no_notifications: "Babu sanarwa",
            check_later: "Duba baya",
            view_all: "Duba Duk",
            view_less: "Duba Ƙasa",
            page_title: "Gida na Kuɗaɗen Kai Tsaye",
            javascript_required: "Ana buƙatar JavaScript don amfani da wannan dashboard. Da fatan za a kunna shi a cikin burauzarka.",
            error_loading_activities: "Kuskure wajen loda ayyukan",
            recent_activity_bill_added: "An ƙara kuɗin: {name}",
            recent_activity_budget_created: "An ƙirƙiri kasafin kuɗi tare da kudin shiga: {amount}",
            recent_activity_grocery_list_created: "An ƙirƙiri jerin Sayayya: {name}",
            recent_activity_grocery_item_bought: "An saya abu: {name}",
            recent_activity_learning_hub_progress: "Ci gaba a cikin kwas: {course_id}",
            recent_activity_ficore_credit: "{action}: {amount} ƙididdiga",
            recent_activity_food_order_created: "An ƙirƙiri umurnin abinci: {name}"
        },
        grocery: {
            grocery_modal_label: "Mai Shirya Sayayya Mai Wayo",
            grocery_spending: "Kashe Sayayya",
            just_now: "Yanzu",
            minutes_ago: "mintuna da suka wuce",
            hours_ago: "awanni da suka wuce",
            days_ago: "kwanaki da suka wuce",
            no_lists: "Babu jerin Sayayya da aka samu",
            no_items: "Babu abubuwa a cikin wannan jerin",
            no_meal_plans: "Babu shirye-shiryen abinci da aka samu",
            no_suggestions: "Babu shawarwari da ke akwai",
            no_price_history: "Babu tarihin farashi da ke akwai",
            grocery_edit_list: "Gyara Jerin",
            grocery_lists: "Jerin Sayayya",
            grocery_meal_plans: "Shirye-shiryen Abinci",
            grocery_suggestions: "Shawarwari",
            grocery_create_list: "Ƙirƙiri Jerin Sayayya",
            grocery_list_name: "Sunan Jerin",
            grocery_budget: "Kasafin Kuɗi",
            grocery_create: "Ƙirƙira",
            grocery_add_item: "Ƙara Abu",
            grocery_item_name: "Sunan Abu",
            grocery_quantity: "Yawa",
            grocery_price: "Farashi",
            grocery_to_buy: "Don Saya",
            grocery_in_pantry: "A cikin Shago",
            grocery_bought: "An Saya",
            grocery_store: "Shago",
            grocery_add: "Ƙara",
            grocery_share_list: "Raba Jerin",
            grocery_collaborator_email: "Imel na Mai Haɗin Kai",
            grocery_share: "Raba",
            grocery_create_meal_plan: "Ƙirƙiri Shirin Abinci",
            grocery_meal_name: "Sunan Shirin Abinci",
            grocery_add_ingredient: "Ƙara Sinadari",
            grocery_ingredient_name: "Sunan Sinadari",
            grocery_suggested_items: "Abubuwan da Aka Shawarta",
            grocery_collaborator_suggestions: "Shawarwari na Mai Haɗin Kai",
            grocery_suggest_item: "Ba da Shawarar Abu",
            grocery_suggest: "Ba da Shawara",
            grocery_list_created: "An ƙirƙiri jerin Sayayya",
            grocery_item_added: "An ƙara abu ga jerin",
            grocery_item_updated: "An sabunta abu",
            grocery_list_shared: "An raba jerin cikin nasara",
            grocery_suggestion_added: "An ƙara shawara",
            grocery_suggestion_approved: "An amince da shawara",
            grocery_suggestion_approve: "Amince",
            grocery_meal_plan_created: "An ƙirƙiri shirin abinci",
            grocery_price_history: "Tarihin Farashi",
            grocery_price_history_for: "Tarihin Farashi na",
            friday_reminder: "Jumma'a ce! Lokaci ya yi da za a shirya jerin Sayayya na ƙarshen mako.",
            grocery_manage_list: "Sarrafa Jerin",
            grocery_delete: "Goge",
            grocery_close: "Rufe",
            grocery_cancel: "Soke",
            grocery_save: "Ajiye",
            grocery_confirm_delete: "Tabbatar Goge",
            grocery_confirm_delete_message: "Kuna da tabbacin kuna son goge",
            grocery_view_details: "Duba Bayanai",
            grocery_export_pdf: "Fitarwa zuwa PDF",
            grocery_list_deletion_initiated: "An fara gogewar jerin Sayayya",
            grocery_list_deleted: "An goge jerin Sayayya",
            grocery_deleting_in: "Gogewa a cikin",
            grocery_seconds: "sakanni",
            grocery_export_pdf_success: "An fitar da jerin Sayayya zuwa PDF",
            grocery_export_error: "Kuskure wajen fitarwa zuwa PDF",
            grocery_list_error: "Kuskure wajen loda bayanan jerin",
            grocery_list_updated: "An sabunta jerin Sayayya",
            grocery_list_details: "Bayanan Jerin",
            grocery_status: "Matsayi",
            grocery_created_at: "An Ƙirƙira",
            grocery_collaborators: "Masu Haɗin Kai",
            grocery_total_spent: "Jimlar Kashe",
            javascript_required_grocery: "Ana buƙatar JavaScript don amfani da Mai Shirya Sayayya. Da fatan za a kunna shi a cikin burauzarka."
        },
        food_order: {
            food_order_modal_label: "Umurnin Abinci",
            food_order_spending: "Kashe Umurnin Abinci",
            just_now: "Yanzu",
            minutes_ago: "mintuna da suka wuce",
            hours_ago: "awanni da suka wuce",
            days_ago: "kwanaki da suka wuce",
            no_orders: "Babu umurnin abinci da aka samu",
            no_items: "Babu abubuwa a cikin wannan umurni",
            food_order_create: "Ƙirƙiri Umurnin Abinci",
            food_order_name: "Sunan Umurni",
            food_order_vendor: "Mai Sayarwa",
            food_order_phone: "Lambar Wayar",
            food_order_location: "Wurin Isarwa",
            food_order_auto_detect: "Gano Wuri Kai Tsaye",
            food_order_cost_note: "Lura: Ƙirƙiri da ƙaddamar da wannan umurni zai rage ${0.1} FC daga ma'auni naka.",
            food_order_add_item: "Ƙara Abu",
            food_order_item_name: "Sunan Abu",
            food_order_quantity: "Yawa",
            food_order_price: "Farashi",
            food_order_item_notes: "Bayanan Abu (misali, Babu Barkono)",
            food_order_add: "Ƙara",
            food_order_total: "Jimla",
            food_order_reorder: "Sake Umurni",
            food_order_delete: "Goge",
            food_order_confirm_delete: "Goge umurnin abinci",
            food_order_success_title: "An Tura Umurni",
            food_order_success_message: "An tura umurnin ka. Mai sayarwa zai kira ka nan ba da jimawa ba.",
            food_order_ok: "To",
            food_order_location_error: "Ba za a iya gano wurin kai tsaye ba. Da fatan za a shigar da hannu.",
            food_order_geolocation_unsupported: "Binciken wurin ba ya da goyon baya a wannan burauza.",
            order_created: "An ƙirƙiri umurnin abinci",
            item_added: "An ƙara abu ga umurni",
            item_updated: "An sabunta abu",
            food_order_deleted: "An goge umurnin abinci",
            food_order_duplicate: `Da fatan za a jira mintuna ${5} kafin ƙirƙirar wani umurni`,
            general_select_order: "Da fatan za a zaɓi umurni",
            food_order_invalid_data: "Bayanan umurni ba daidai ba ne",
            food_order_invalid_item_data: "Bayanan abu ba daidai ba ne",
            food_order_invalid_update_data: "Bayanan sabuntawa ba daidai ba ne",
            food_order_invalid_field: "Fili ba daidai ba ne",
            food_order_invalid_order_id: "ID na umurni ba daidai ba ne",
            food_order_credit_deduction_failed: "Ba a iya cire ƙididdigar Ficore ba",
            food_order_missing_location: "Wuri a buƙata",
            food_order_invalid_location: "Tsarin wurin ba daidai ba ne",
            food_order_no_vendors: "Ba a sami masu sayarwa kusa ba",
            javascript_required_food_order: "Ana buƙatar JavaScript don amfani da fasalin Umurnin Abinci. Da fatan za a kunna shi a cikin burauzarka."
        },
        budget: {
            budget_status: "Matsayin Kasafin Kuɗi",
            on_track: "A Kan Hanya",
            over_budget: "Fiye da Kasafin Kuɗi",
            overdue: "Ya Wuce Lokaci",
            on_time: "A Kan Lokaci",
            within_budget: "Cikin Kasafin Kuɗi"
        },
        dashboard: {
            popular_tools: "Kayan Aiki na Yau da Kullum",
            financial_snapshots: "Bayanan Kuɗaɗe",
            upcoming_bills: "Kuɗin da ke Jiran Biya",
            toggle_amount_visibility: "Canja ganin adadin kuɗi",
            balance_overview: "Bayanin Ma'auni",
            ficore_credits: "Ƙididdigar Ficore",
            recent_activity: "Ayyukan Kwanan Nan",
            notifications: "Sanarwa",
            explore_features: "Bincika Abubuwan Haɗin",
            no_active_orders: "Babu Umurni Masu Aiki",
            active_orders: "Umurni Masu Aiki",
            bootstrap_failed: "Ba a loda Bootstrap JavaScript ba",
            food_order_init_failed: "Ba a iya fara fasalin Umurnin Abinci ba",
            app_init_error: "Kuskure wajen fara aikace-aikace",
            food_order_script_failed: "Ba a iya loda rubutun Umurnin Abinci ba"
        }
    };

    // Translation function
    window.t = function (key, options = {}) {
        const { context = 'general', default: defaultValue = key, lang = navigator.language.split('-')[0] || 'ha' } = options;
        const translations = lang === 'ha' ? hausaTranslations : englishTranslations;
        return translations[context][key] || defaultValue;
    };
})();
